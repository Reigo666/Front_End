<!DOCTYPE html>
<html lang="zh-CN">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script>
			window.onload=function(){
				
			}

			function TimeOut(time){
				// return function(){
					return new Promise((resolve, reject) => {
						setTimeout(() => {
							console.log(time,'运行结束了');
								resolve(time)
						},time)
					})
				// }
			}

			function TimeOut_async(time){
				setTimeout(() => {
					return time;
				},time)
			}
			

			let arr=[TimeOut(3000),TimeOut(0),TimeOut(5000),TimeOut(0)]
			
			//迭代器 = 自写迭代器函数 
			/* arr[Symbol.iterator]=function iteration(){
				let index=0
				let self = this
				return {
					next(){
						if(index>=self.length){
							return {
								done:true,
								value:undefined
							}
						}
						return {
							done:false,
							value:self[index++]()
						}
					}
				}
			} */

			//迭代器 = Generator函数
			/* arr[Symbol.iterator]=function* (){
				for(let i in arr){
					yield arr[i]()
				}
			} */
			
			//异步迭代器 = Generator函数
			arr[Symbol.asyncIterator] = async function * (){
				for(let i in arr){
					yield arr[i]
				}
				yield 'hello';
				yield 'async';
				yield 'iteration!';
			}
			
			async function test(){
				for await(let item of arr){
					console.log(item);
				}
			};
			test()
			


		

			
			</script>
		<style>

		</style> 
</head>
<body>
	
</body>
</html>